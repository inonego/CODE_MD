# Logic QA — 게임 로직이 정확하게 동작하는가

게임의 핵심 로직(전투, 경제, 진행, 상호작용)이 올바르게 동작하며, 엣지 케이스에서도 깨지지 않는지를 판단한다.

---

## 우려 유형

### 1. 엣지 케이스 미처리 (Edge Case Gap)
- **관점:** 정상적인 플레이에서 벗어난 상황(0, 음수, 최대값, 빈 목록)에서 로직이 깨지는가?
- **살펴볼 곳:** 게임 핵심 시스템(전투, 인벤토리, 경제)의 경계값 처리
- **판단 기준:** 나눗셈에 0 가능성, 음수 HP/골드, 빈 리스트 접근, 오버플로우 가능성

### 2. 상태 불일치 (State Inconsistency)
- **관점:** 여러 시스템이 같은 데이터를 참조할 때, 한쪽은 업데이트되고 다른 쪽은 안 되는 경우가 있는가?
- **살펴볼 곳:** 동일 데이터를 읽는 시스템이 2개 이상인 경우. 이벤트 기반 업데이트의 누락 가능성
- **판단 기준:** 데이터 변경 시 모든 의존 시스템에 알림이 가는지, 순서가 보장되는지

### 3. 오브젝트 생명주기 문제 (Lifecycle Mismatch)
- **관점:** 이미 파괴/비활성화된 오브젝트에 접근하는 코드가 있는가?
- **살펴볼 곳:** 코루틴/async 콜백 안에서 this/gameObject 접근. 풀링 오브젝트의 재사용 시 초기화 누락
- **판단 기준:** 비동기 작업 완료 시점에 오브젝트가 여전히 유효한지 보장되지 않는 경우

### 4. 데이터 무결성 (Data Integrity)
- **관점:** 게임 데이터(세이브, 인벤토리, 진행도)가 손상되거나 불일치할 수 있는가?
- **살펴볼 곳:** 저장/로드 직렬화, 씬 전환 시 데이터 전달, 서버-클라이언트 데이터 동기화
- **판단 기준:** 데이터 쓰기-읽기 사이에 변환 손실이나 타이밍 문제가 있는 경우

### 5. 경쟁 조건 (Race Condition)
- **관점:** 타이밍에 따라 결과가 달라지는 로직이 있는가?
- **살펴볼 곳:** 코루틴 간 공유 상태, async/await 패턴, 이벤트 발행 순서 의존
- **판단 기준:** 실행 순서가 보장되지 않는데 순서에 의존하는 로직

### 6. 에러 전파 누락 (Silent Failure)
- **관점:** 오류가 발생해도 조용히 넘어가서 나중에 더 큰 문제로 나타나는 곳이 있는가?
- **살펴볼 곳:** 빈 catch 블록, null 반환 후 호출자의 처리, async void (예외 삼킴)
- **판단 기준:** 에러가 발생해도 사용자/개발자에게 알림이 없고, 게임이 잘못된 상태로 계속 진행하는 경우

---

## 코드 검증 관점

- 핵심 게임 로직의 **경계값 입력**에 대한 동작을 코드에서 추적
- 공유 데이터의 **쓰기-읽기 경로**를 모두 파악하여 동기화 확인
- 비동기 코드의 **콜백 시점**에서 참조하는 오브젝트의 유효성 확인
- 에러 처리 경로에서 **게임 상태가 복구 가능한지** 확인

---

## 런타임 검증 관점

- 게임 핵심 시스템의 상태값을 `execute_code`로 조회하여 일관성 확인
- 오브젝트 파괴 후 접근 시도 → NullReferenceException 발생 여부 로그 확인
- 씬 전환/재시작 후 데이터 초기화 상태 확인
