# Design Intent QA — 기획 의도대로 구현되었는가

기획에서 요구한 기능이 빠짐없이 구현되었는지, 구현된 동작이 기획 의도와 일치하는지를 판단한다.

---

## 기획 의도 입력

이 모듈은 **기획 의도**가 있어야 동작한다.

### 경로 A: 기획 문서
`--design-doc [경로]` 또는 노션 URL 제공 시 문서를 로드하여 다음을 추출:
- 기능 목록과 요구사항
- 밸런스/수치 테이블
- 플로우 다이어그램
- 제한/금지 사항

### 경로 B: 대화형 수집
문서가 없으면 핵심 질문으로 의도를 수집:
1. "이 게임/시스템이 하는 일을 한 문단으로 설명해주세요."
2. "플레이어가 반드시 경험해야 할 핵심 흐름은?"
3. "의도적으로 막아야 하는 동작이나 제한이 있나요?"
4. "중요한 밸런스 수치(데미지, 비용, 쿨타임 등)가 있나요?"

---

## 우려 유형

### 1. 미구현 기능 (Missing Feature)
- **관점:** 기획에 명시된 기능이 코드에 존재하지 않는가?
- **살펴볼 곳:** 기획 문서의 기능 목록 vs 코드의 클래스/메서드. 기획 용어가 코드에서 발견되는지
- **판단 기준:** 기획에 명시된 기능명/시스템명이 코드에서 전혀 발견되지 않거나, 스텁(빈 구현)만 존재하는 경우

### 2. 다르게 구현된 기능 (Divergent Implementation)
- **관점:** 기능이 있지만, 기획 의도와 다르게 동작하는가?
- **살펴볼 곳:** 기획의 플로우와 실제 코드 실행 경로의 차이. 분기 조건이 기획의 조건과 다른 경우
- **판단 기준:** 기획: "A하면 B" → 코드: "A하면 C" 또는 "A하고 D도 해야 B"

### 3. 밸런스 수치 괴리 (Balance Drift)
- **관점:** 기획에서 정한 수치와 코드/데이터의 수치가 다른가?
- **살펴볼 곳:** SO/XML/JSON의 밸런스 데이터, 코드에 하드코딩된 게임 상수
- **판단 기준:** 기획 수치와 실제 사용 수치의 차이. 특히 밸런스 값이 SO가 아닌 코드에 직접 기입된 경우

### 4. 제약 미반영 (Unenforced Constraint)
- **관점:** 기획에서 제한한 사항이 코드에서 강제되지 않는가?
- **살펴볼 곳:** "최대 N개", "M초 쿨타임", "레벨 X 이상만" 같은 제한이 코드에 있는지
- **판단 기준:** 제한 로직이 없거나, 우회 가능한 경우 (클라이언트만 체크, 서버 검증 없음)

### 5. 미완성 흔적 (Incomplete Implementation)
- **관점:** 기능 구현이 중간에 멈춰있거나 임시 코드가 남아있는가?
- **살펴볼 곳:** TODO/FIXME/HACK/TEMP 주석, #if false로 감싼 코드, 빈 메서드, NotImplementedException
- **판단 기준:** 프로덕션 코드에 명확한 미완성 표시가 남아있는 경우

### 6. 기획에 없는 동작 (Undocumented Behavior)
- **관점:** 기획에 없지만 코드에 존재하는 동작이 의도된 것인지 확인이 필요한가?
- **살펴볼 곳:** 기획 문서에 언급되지 않은 분기, 숨겨진 기능, 디버그 모드
- **판단 기준:** 기획 범위를 벗어나는 동작이 코드에 존재 (의도적 확장인지 실수인지 판단 필요)

---

## 코드 검증 관점

- 기획 기능 목록을 하나씩 매핑하여 **구현 완성도** 확인 (완전/부분/미구현/다르게)
- 기획의 플로우와 코드의 실행 경로를 **단계별로 대조**
- 밸런스 데이터의 **출처**(SO, XML, 하드코딩)와 **실제값**을 기획과 대조
- 기획 제약에 대응하는 코드 로직의 **강건성** 확인 (바이패스 가능 여부)

---

## 런타임 검증 관점

- 기획의 핵심 플로우를 Unity MCP로 실제 플레이하며 동작 확인
- 스크린샷으로 기획 UI 목업과 실제 화면 대조
- 밸런스 값을 런타임에서 조회하여 기획 수치와 비교
- 기획 제약 조건을 의도적으로 위반 시도하여 차단 여부 확인
