# 프로젝트 수준 레이어 가이드

전체 시스템, 프로젝트, 또는 여러 모듈에 걸친 계획에 적용한다.

## Layer 1: 큰 그림

"무엇을 하는가"에 집중한다.

### 초안 포함 항목

- **목표**: 한 문장으로 정리한 최종 목표
- **주요 단계**: 3~7개, 각각 한 줄 설명. 순서는 의존성을 반영
- **범위**: 포함/제외를 명시
- **선행 조건**: 시작 전에 필요한 것

### 핵심 질문

> **[핵심]** "단계 구성이 이 방향이 맞습니까? 빠진 단계나 불필요한 단계가 있으면 알려주세요."

도메인 가이드가 로드되어 있으면 도메인별 스코프 가이드(`domains/도메인/references/project-scope.md`)의 추가 질문을 함께 제시한다.

---

## Layer 2: 구성요소

"어떻게 하는가"의 첫 단계. Layer 1의 확정된 단계 중 **하나씩** 순서대로 진행한다.

### 초안 포함 항목

- **목표**: 이 단계가 달성해야 하는 것
- **구성요소**: 각각 역할과 산출물 명시
- **의존성**: 구성요소 간 순서 관계
- **리스크**: 식별된 리스크와 대응 방안

### 핵심 질문

> **[핵심]** "이 분해가 적절합니까? 빠진 구성요소나 합쳐야 할 구성요소가 있습니까?"

도메인 가이드가 로드되어 있으면 도메인별 스코프 가이드(`domains/도메인/references/project-scope.md`)의 추가 질문을 함께 제시한다.

---

## Layer 3: 세부 명세

"정확히 무엇을 해야 하는가". Layer 2의 확정된 구성요소 중 **하나씩** 순서대로 진행한다.

### 초안 포함 항목

- **작업 항목**: 각각 입력/출력/완료 조건 명시
- **제약사항**: 기술적/비즈니스 제약
- **열린 질문**: 아직 결정되지 않은 사항
- **하위 계획 위임** (해당 시): 구성요소가 크고 복잡하지만 독립적인 경우, 작업 항목 대신 `[하위 계획 위임]` 마커와 인터페이스 경계만 정의 ([03_specification.md](../phases/03_specification.md) "하위 계획 위임" 절차 참조)
- 도메인 가이드가 로드되어 있으면 도메인별 스코프 가이드의 추가 초안 항목을 함께 포함한다.

### 핵심 질문

> **[핵심]** "작업 항목이 명확하고 실행 가능합니까? 애매한 부분이나 추가 분해가 필요한 항목이 있습니까?"

도메인 가이드가 로드되어 있으면 도메인별 스코프 가이드(`domains/도메인/references/project-scope.md`)의 추가 질문을 함께 제시한다.

---

## 최종 계획서 구조

```
# [주제] — 점진적 계획서

## 개요
- 목표: [최종 목표]
- 강도: [사용된 질문 강도]
- 범위: 포함 / 제외

## 요구사항 및 설계 의도
Q&A 과정에서 파악한 핵심 의도와 요구사항을 정리한다.

- **핵심 의도**: [사용자가 이 계획으로 궁극적으로 달성하려는 것]
- **품질 우선순위**: [성능 > 유지보수성 등 사용자가 밝힌 우선순위]
- **명시적 제약**: [데드라인, 기술 스택, 리소스 등 사용자가 밝힌 제약]
- **선호/비선호**: [사용자가 명시적으로 원하거나 원하지 않는 방향]

## 도메인별 분석 결과 (도메인 가이드 로드 시에만)
(도메인 가이드가 정의하는 분석 항목을 여기에 포함한다)

## Layer 1: 큰 그림
[Phase 1 확정 내용 전체]

## Layer 2: 구성요소
### 단계 1: [단계명]
[Phase 2 확정 내용]
### 단계 2: [단계명]
[Phase 2 확정 내용]

## Layer 3: 세부 명세
### 단계 1 > 구성요소 1
[Phase 3 확정 내용]
### 단계 1 > 구성요소 2
[Phase 3 확정 내용]

## 위임된 하위 계획
| 구성요소 | 책임 | 인터페이스 경계 |
|----------|------|----------------|
(위임된 항목이 없으면 이 섹션 생략)

## 열린 질문
- [아직 결정되지 않은 사항들]

## 리스크 요약
| 리스크 | 영향도 | 대응 방안 |
|--------|--------|----------|
```
