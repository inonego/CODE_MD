## 세부 명세 (Layer 3)

Layer 2(구조 설계)에서 확정된 각 구성요소에 대해 순서대로 진행한다.
스코프별 가이드의 Layer 3 섹션을 참조한다.

### 진행 절차

공통 진행 절차(단계 A→A'→B→C→D)는 [방향 설정](01_direction.md)의 "공통 진행 절차"를 따른다.

각 구성요소마다 A→(A')→B→C를 반복한다.

### 하위 계획 위임

Layer 3 진행 중 특정 구성요소가 그 자체로 크고 복잡한 서브시스템인 경우, 구체적 실행 명세를 작성하는 대신 **별도의 progressive-planning 세션으로 위임**할 수 있다.

**위임 조건** (두 조건 모두 충족):

| 조건 | 설명 |
|------|------|
| 충분히 크고 복잡 | 별도의 Layer 1~3 분해가 필요한 규모 |
| 독립적 | 인터페이스/경계만 정의하면 나머지 계획에 영향 없음 |

**위임 절차:**

| 단계 | 처리 |
|------|------|
| 감지 | Layer 3 초안 작성 중 위임 조건 충족 구성요소 식별 |
| 확인 | 사용자에게 위임 여부 질문 |
| 경계 정의 | `[하위 계획 위임]` 마커 + 인터페이스/경계 + 책임 요약 + 제약사항 작성 |
| 기록 | 최종 계획서 "위임된 하위 계획" 섹션에 표시 |

**위임 마커 형식:**

```
#### [구성요소명] — [하위 계획 위임]

> 이 구성요소는 별도의 progressive-planning 세션에서 세부 설계를 진행한다.

##### 인터페이스 경계
- [외부에 노출하는 공개 인터페이스]

##### 책임
- [핵심 역할 한 줄]

##### 상위 계획의 제약
- [이 서브시스템이 지켜야 할 제약사항]
```

---

## 다음 단계

세부 명세 완료 후, [phases/04_finalization.md](04_finalization.md)를 로드하여 최종 정리를 진행한다.
